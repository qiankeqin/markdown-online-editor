(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2121a7bb"],{"64eb":function(t,e,n){},a752:function(t,e,n){"use strict";var o=n("64eb"),a=n.n(o);a.a},d835:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"export-page"},[n("div",{staticClass:"button-group"},[n("el-button",{attrs:{round:""},on:{click:t.onBackToMainPage}},[t._v("返回主页")]),n("el-button",{attrs:{round:"",type:"primary"},on:{click:t.onExportBtnClick}},[t._v(t._s(t.btnTextStr))])],1),n("div",{attrs:{id:"export-vditor"}})])},a=[],i=n("0a0d"),r=n.n(i),s=(n("6762"),n("96cf"),n("3b8d")),c=n("ff41"),u=n.n(c),d=n("70b0"),p=n.n(d),l=n("d67e"),v=n.n(l),g=n("358c"),m={name:"export-page",data:function(){return{isLoading:!0,btnTextStr:""}},created:function(){this.btnTextStr=g["b"][this.$route.path]},components:{},mounted:function(){var t=this;this.initVditor(),this.$nextTick(Object(s["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=document.getElementsByClassName("vditor-textarea"),n[0].style.display="none",e.next=4,t.vditor.getHTML(!0);case 4:t.isLoading=!1;case 5:case"end":return e.stop()}},e)})))},methods:{initVditor:function(){var t={cache:!1,width:"61.8%",preview:{delay:1e3,show:!0}};this.vditor=new u.a("export-vditor",t);var e=localStorage.getItem("vditorvditor");this.vditor.setValue(e)},exportToImg:function(t,e,n){var o={png:"toPng",jpeg:"toJpeg"};p.a[o[e]](t).then(function(t){var e=document.createElement("a");e.download=n,e.href=t,e.click()}).catch(function(t){console.error("Oops, Something went wrong!",t)})},exportToPdf:function(t,e,n){var o={margin:1,filename:n,image:{type:e,quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};v()().set(o).from(t).save()},onBackToMainPage:function(){this.$router.push("/")},onExportBtnClick:function(){var t=document.getElementsByClassName("vditor-preview")[0],e=this.$route.params.type,n=["png","jpeg","webp"],o=n.includes(e),a="arya-".concat(r()(),".").concat(e);o?this.exportToImg(t,e,a):this.exportToPdf(t,e,a)}}},f=m,h=(n("a752"),n("2877")),w=Object(h["a"])(f,o,a,!1,null,null,null);e["default"]=w.exports}}]);